{"version":3,"file":"static/webpack/static/development/pages/index.js.6d4f7997ef767705acc0.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Head from 'next/head';\nimport Layout from '../public/components/layout.js';\nimport MovieCard from '../public/components/movieCard.js';\nimport fetch from 'node-fetch';\nimport ls from 'local-storage';\nimport Link from 'next/link';\nimport Router from 'next/router';\n\nexport async function getStaticProps() {\n/*   ls.set('results', null); */\n  let data = ls.get('results');\n  if(data === null){\n    const res = await fetch('https://api.themoviedb.org/3/trending/all/week?api_key=a7c72915d9ca22d06835063429d58c63');\n    const tmp = await res.json();\n    ls.set('results', tmp, 60000 );\n    data = tmp;\n    console.log(\"Cache empty, reading from API\");\n  }\n  else{\n    console.log(\"Cache not empty, reading from cache:\")\n  }\n\n  if(typeof window !== \"undefined\"){\n    localStorage.setItem(\"test\", true);\n    console.log(localStorage.getItem(\"test\"));\n  }\n\n\n\n\n\n  // By returning { props: posts }, the Blog component\n  // will receive `posts` as a prop at build time\n  return {\n    props: {\n      data,\n    },\n  }\n}\n\n\nexport default function Home(data) {\n  return (\n    <>\n      <Head>\n        <title>JwPihlgren</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n        <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\n      </Head>\n\n    <header>\n    <div className=\"ui\">\n      <div className=\"ui inverted menu\">\n          <div className=\"header item\"><a href=\"/\">TrendingMovies</a> </div>\n          <a className=\"item\" href=\"/\">Home</a>\n          <div className=\"ui inverted right menu\">\n           <Link href=\"/\">\n              <a className=\"item\" onClick={(e) => {\n                                                    e.preventDefault();\n                                                    ls.set('results', null);\n                                                    console.log(ls.get('results'))\n                                                    Router.reload();\n                                                  }}>Refresh</a>\n            </Link>\n          </div>\n      </div>\n  </div>\n    </header>\n      \n      <main>\n        <div className=\"ui container\">\n          <div className=\"ui grid\">\n            <div className=\"ui five stackable special cards\">\n              {data.data.results.map((k) => {\n                return (k.title !== undefined ? <MovieCard title={k.title} synopsis={k.overview} vote_average={k.vote_average} backdrop={k.poster_path} key={k.id}/> : \"\")\n               })}\n              </div>\n            </div>\n          </div> \n\n      </main>\n      <footer></footer>\n      <style jsx>{`\n        .container {\n          min-height: 100vh;\n          padding: 0 0.5rem;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n        }\n\n        main {\n          padding: 5rem 0;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n        }\n\n        footer {\n          width: 100%;\n          height: 100px;\n          border-top: 1px solid #eaeaea;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n\n        footer img {\n          margin-left: 0.5rem;\n        }\n\n        footer a {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n\n        a {\n          color: inherit;\n          text-decoration: none;\n        }\n\n        .title a {\n          color: #0070f3;\n          text-decoration: none;\n        }\n\n        .title a:hover,\n        .title a:focus,\n        .title a:active {\n          text-decoration: underline;\n        }\n\n        .title {\n          margin: 0;\n          line-height: 1.15;\n          font-size: 4rem;\n        }\n\n        .title,\n        .description {\n          text-align: center;\n        }\n\n        .description {\n          line-height: 1.5;\n          font-size: 1.5rem;\n        }\n\n        code {\n          background: #fafafa;\n          border-radius: 5px;\n          padding: 0.75rem;\n          font-size: 1.1rem;\n          font-family: Menlo, Monaco, Lucida Console, Liberation Mono,\n            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;\n        }\n\n        .grid {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-wrap: wrap;\n\n          max-width: 800px;\n          margin-top: 3rem;\n        }\n\n        .card {\n          margin: 1rem;\n          flex-basis: 45%;\n          padding: 1.5rem;\n          text-align: left;\n          color: inherit;\n          text-decoration: none;\n          border: 1px solid #eaeaea;\n          border-radius: 10px;\n          transition: color 0.15s ease, border-color 0.15s ease;\n        }\n\n        .card:hover,\n        .card:focus,\n        .card:active {\n          color: #0070f3;\n          border-color: #0070f3;\n        }\n\n        .card h3 {\n          margin: 0 0 1rem 0;\n          font-size: 1.5rem;\n        }\n\n        .card p {\n          margin: 0;\n          font-size: 1.25rem;\n          line-height: 1.5;\n        }\n\n        .logo {\n          height: 1em;\n        }\n\n        @media (max-width: 600px) {\n          .grid {\n            width: 100%;\n            flex-direction: column;\n          }\n        }\n      `}</style>\n\n      <style jsx global>{`\n        html,\n        body {\n          padding: 0;\n          margin: 0;\n          font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n            Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,\n            sans-serif;\n        }\n\n        * {\n          box-sizing: border-box;\n        }\n      `}</style>\n    </>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;;AAmCA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0LA;;;;A","sourceRoot":""}